{"mappings":"AAAA,MAAMA,EAAOC,SAASC,eAAe,eAC/BC,EAAUF,SAASG,cAAc,YACjCC,EAAcJ,SAASG,cAAc,cAK3C,IAAIE,EAAO,EACPC,EAAc,GAyElB,SAASC,EAAaC,GACpB,MAAMC,EAAWT,SAASU,yBAE1BF,EAAOG,SAASC,IACd,MAAMC,EAOV,SAAyBD,GACvB,MAAMC,EAAOb,SAASc,cAAc,OACpCD,EAAKE,UAAUC,IAAI,cAEnB,MAAMC,EAAMjB,SAASc,cAAc,OACnCG,EAAIC,IAAMN,EAAMO,aAChBF,EAAIG,IAAMR,EAAMS,KAChBJ,EAAIK,QAAU,OAEd,MAAMC,EAAOvB,SAASc,cAAc,OACpCS,EAAKR,UAAUC,IAAI,QAEnB,MAAMQ,EAAQC,EAAe,QAASb,EAAMY,OACtCE,EAAQD,EAAe,QAASb,EAAMc,OACtCC,EAAWF,EAAe,WAAYb,EAAMe,UAC5CC,EAAYH,EAAe,YAAab,EAAMgB,WAUpD,OARAL,EAAKM,YAAYL,GACjBD,EAAKM,YAAYH,GACjBH,EAAKM,YAAYF,GACjBJ,EAAKM,YAAYD,GAEjBf,EAAKgB,YAAYZ,GACjBJ,EAAKgB,YAAYN,GAEVV,C,CAhCQiB,CAAgBlB,GAC7BH,EAASoB,YAAYhB,EAAK,IAG5BX,EAAQ2B,YAAYpB,E,CA+BtB,SAASgB,EAAeM,EAAOC,GAC7B,MAAMC,EAAOjC,SAASc,cAAc,KAGpC,OAFAmB,EAAKlB,UAAUC,IAAI,aACnBiB,EAAKC,UAAY,MAAMH,UAAcC,IAC9BC,C,CAGT,SAASE,EAA8BC,GACbA,EAAmB,GAAP/B,EACd,EACpBD,EAAYiC,MAAMC,QAAU,SAE5BlC,EAAYiC,MAAMC,QAAU,OAU9BC,SAASC,OAAOjB,KAAK,8D,CALvB,SAASkB,IACPF,SAASC,OAAOE,QAAQ,2E,CAO1B,SAASC,IACPJ,SAASC,OAAOE,QAAQ,uE,CAxI1B3C,EAAK6C,iBAAiB,UAAUC,MAAOC,IAIrC,GAHAA,EAAMC,iBACNzC,EAAcwC,EAAME,OAAOC,YAAYjB,MAAMkB,OAEzB,KAAhB5C,EAAJ,CAIAD,EAAO,EACPH,EAAQgC,UAAY,GACpB9B,EAAYiC,MAAMC,QAAU,OAE5B,IACE,MAAMa,QAAiBC,MAAMC,IAlBhB,2BAkB8B,CACzCC,OAAQ,CACNC,IArBQ,qCAsBRC,EAAGlD,EACHmD,WAAY,QACZC,YAAa,aACbC,YAAY,EACZC,KAAMvD,EACNwD,SAAU,MAIRrD,EAAS2C,EAASW,KAAKC,KAE7B,GAAsB,IAAlBvD,EAAOwD,OAET,YADAvB,IAIFlC,EAAaC,GACb2B,EAA8BgB,EAASW,KAAK1B,U,CAC5C,MAAO6B,GACPC,QAAQC,IAAI,SAAUF,GACtBtB,G,CA/BA,C,IAmCJvC,EAAYwC,iBAAiB,SAASC,UACpCxC,IAEA,IACE,MAAM8C,QAAiBC,MAAMC,IAjDhB,2BAiD8B,CACzCC,OAAQ,CACNC,IApDQ,qCAqDRC,EAAGlD,EACHmD,WAAY,QACZC,YAAa,aACbC,YAAY,EACZC,KAAMvD,EACNwD,SAAU,MAIRrD,EAAS2C,EAASW,KAAKC,KAE7B,GAAsB,IAAlBvD,EAAOwD,OAET,YADAvB,IAIFlC,EAAaC,GACb2B,EAA8BgB,EAASW,KAAK1B,U,CAC5C,MAAO6B,GACPC,QAAQC,IAAI,SAAUF,GACtBtB,G","sources":["src/js/index.js"],"sourcesContent":["const form = document.getElementById('search-form');\nconst gallery = document.querySelector('.gallery');\nconst loadMoreBtn = document.querySelector('.load-more');\n\nconst API_KEY = '17074451-935a1dfdbcca0fa80856ea2a8';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nlet page = 1;\nlet searchQuery = '';\n\nform.addEventListener('submit', async (event) => {\n  event.preventDefault();\n  searchQuery = event.target.searchQuery.value.trim();\n\n  if (searchQuery === '') {\n    return;\n  }\n\n  page = 1;\n  gallery.innerHTML = '';\n  loadMoreBtn.style.display = 'none';\n\n  try {\n    const response = await axios.get(BASE_URL, {\n      params: {\n        key: API_KEY,\n        q: searchQuery,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n        page: page,\n        per_page: 40\n      }\n    });\n\n    const images = response.data.hits;\n\n    if (images.length === 0) {\n      showNoResultsMessage();\n      return;\n    }\n\n    renderImages(images);\n    checkLoadMoreButtonVisibility(response.data.totalHits);\n  } catch (error) {\n    console.log('Error:', error);\n    showErrorNotification();\n  }\n});\n\nloadMoreBtn.addEventListener('click', async () => {\n  page++;\n\n  try {\n    const response = await axios.get(BASE_URL, {\n      params: {\n        key: API_KEY,\n        q: searchQuery,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n        page: page,\n        per_page: 40\n      }\n    });\n\n    const images = response.data.hits;\n\n    if (images.length === 0) {\n      showNoResultsMessage();\n      return;\n    }\n\n    renderImages(images);\n    checkLoadMoreButtonVisibility(response.data.totalHits);\n  } catch (error) {\n    console.log('Error:', error);\n    showErrorNotification();\n  }\n});\n\nfunction renderImages(images) {\n  const fragment = document.createDocumentFragment();\n\n  images.forEach((image) => {\n    const card = createImageCard(image);\n    fragment.appendChild(card);\n  });\n\n  gallery.appendChild(fragment);\n}\n\nfunction createImageCard(image) {\n  const card = document.createElement('div');\n  card.classList.add('photo-card');\n\n  const img = document.createElement('img');\n  img.src = image.webformatURL;\n  img.alt = image.tags;\n  img.loading = 'lazy';\n\n  const info = document.createElement('div');\n  info.classList.add('info');\n\n  const likes = createInfoItem('Likes', image.likes);\n  const views = createInfoItem('Views', image.views);\n  const comments = createInfoItem('Comments', image.comments);\n  const downloads = createInfoItem('Downloads', image.downloads);\n\n  info.appendChild(likes);\n  info.appendChild(views);\n  info.appendChild(comments);\n  info.appendChild(downloads);\n\n  card.appendChild(img);\n  card.appendChild(info);\n\n  return card;\n}\n\nfunction createInfoItem(label, value) {\n  const item = document.createElement('p');\n  item.classList.add('info-item');\n  item.innerHTML = `<b>${label}:</b> ${value}`;\n  return item;\n}\n\nfunction checkLoadMoreButtonVisibility(totalHits) {\n  const remainingImages = totalHits - page * 40;\n  if (remainingImages > 0) {\n    loadMoreBtn.style.display = 'block';\n  } else {\n    loadMoreBtn.style.display = 'none';\n    showEndOfResultsMessage();\n  }\n}\n\nfunction showNoResultsMessage() {\n  Notiflix.Notify.failure('Sorry, there are no images matching your search query. Please try again.');\n}\n\nfunction showEndOfResultsMessage() {\n  Notiflix.Notify.info(\"We're sorry, but you've reached the end of search results.\");\n}\n\nfunction showErrorNotification() {\n  Notiflix.Notify.failure('An error occurred while fetching the images. Please try again later.');\n}\n"],"names":["$85a5f86b715fe7db$var$form","document","getElementById","$85a5f86b715fe7db$var$gallery","querySelector","$85a5f86b715fe7db$var$loadMoreBtn","$85a5f86b715fe7db$var$page","$85a5f86b715fe7db$var$searchQuery","$85a5f86b715fe7db$var$renderImages","images","fragment","createDocumentFragment","forEach","image","card","createElement","classList","add","img","src","webformatURL","alt","tags","loading","info","likes","$85a5f86b715fe7db$var$createInfoItem","views","comments","downloads","appendChild","$85a5f86b715fe7db$var$createImageCard","label","value","item","innerHTML","$85a5f86b715fe7db$var$checkLoadMoreButtonVisibility","totalHits","style","display","Notiflix","Notify","$85a5f86b715fe7db$var$showNoResultsMessage","failure","$85a5f86b715fe7db$var$showErrorNotification","addEventListener","async","event","preventDefault","target","searchQuery","trim","response","axios","get","params","key","q","image_type","orientation","safesearch","page","per_page","data","hits","length","error","console","log"],"version":3,"file":"index.6951171d.js.map"}